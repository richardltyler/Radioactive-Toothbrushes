(this.webpackJsonprancid=this.webpackJsonprancid||[]).push([[0],{26:function(e,t,r){},27:function(e,t,r){},33:function(e,t,r){},34:function(e,t,r){},35:function(e,t,r){},36:function(e,t,r){},37:function(e,t,r){},38:function(e,t,r){"use strict";r.r(t);var n=r(0),i=r(1),s=r(19),a=r.n(s),c=(r(26),r(10)),o=r(11),h=r(13),u=r(12),l=r(2),j=r(7),d=r.p+"static/media/home.e53ae88a.png",m=(r(27),function(){return Object(n.jsxs)("header",{children:[Object(n.jsx)("h1",{children:"Radioactive Toothbrushes"}),Object(n.jsx)(j.b,{to:"/",children:Object(n.jsx)("img",{className:"home-icon",src:d,alt:"home"})})]})}),b=(r(33),function(){return Object(n.jsxs)("div",{className:"error-message",children:[Object(n.jsx)("img",{src:"https://media.giphy.com/media/zWIZO0saJg4g/giphy.gif",alt:"trying to squeeze toothpaste on a toothbrush and making a mess instead"}),Object(n.jsx)("h2",{children:"We're having some technical difficulties."})]})}),v=(r(34),r(35),function(e){var t=e.id,r=e.poster,i=e.title;return Object(n.jsx)(j.b,{className:"nav",to:"/film/".concat(t),children:Object(n.jsxs)("article",{className:"card",id:i,children:[Object(n.jsx)("img",{src:r,alt:i,className:"card-poster"}),Object(n.jsx)("h2",{className:"card-title",children:i})]})})}),f=function(e){var t=e.movies.map((function(e){return Object(n.jsx)(v,{id:e.id,poster:e.poster_path,title:e.title},e.id)}));return Object(n.jsx)("section",{className:"movies-container",children:t})},O={getAllMovies:function(){return fetch("https://rancid-tomatillos.herokuapp.com/api/v2/movies/")},getOneMovie:function(e){return fetch("https://rancid-tomatillos.herokuapp.com/api/v2/movies/".concat(e)).then((function(e){return e.json()}))}},g=(r(36),function(e){Object(h.a)(r,e);var t=Object(u.a)(r);function r(){var e;return Object(c.a)(this,r),(e=t.call(this)).checkForError=function(t){t.error?e.setState({error:!0,isLoading:!1}):e.setState({currentMovie:t.movie,isLoading:!1})},e.getGenres=function(){return Object(n.jsx)("h4",{className:"genre-display",children:e.state.currentMovie.genres.join(", ")})},e.formatMoney=function(t){var r=t.charAt(0).toUpperCase()+t.slice(1);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h4",{children:"".concat(r,":")}),Object(n.jsx)("h5",{children:"".concat(e.getNumberAmount(t))})]})},e.getNumberAmount=function(t){var r=e.state.currentMovie[t],n=parseInt(r).toString().length;if(n>3&&n<7){var i=parseFloat((r/1e3).toFixed(1));return"$".concat(i,"k")}if(n>6&&n<10){var s=parseFloat((r/1e6).toFixed(1));return"$".concat(s,"mil")}if(n>9){var a=parseFloat((r/1e9).toFixed(1));return"$".concat(a,"bil")}return"$".concat(parseInt(r))},e.formatDate=function(){var t=new Date(e.state.currentMovie.release_date).toDateString().split(" ").slice(1);return Object(n.jsx)("h4",{children:t.join(" ")})},e.formatRating=function(){var t=e.state.currentMovie.average_rating,r=parseFloat(t.toFixed(1));return Object(n.jsx)("h3",{className:"rating",children:"\ud83e\udea5".concat(r,"/10")})},e.state={currentMovie:{},isLoading:!0,error:!1},e}return Object(o.a)(r,[{key:"componentDidMount",value:function(){var e=this;O.getOneMovie(this.props.id).then((function(t){return e.checkForError(t)})).catch((function(){return e.setState({isLoading:!1,error:!0})}))}},{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[this.state.isLoading&&Object(n.jsx)("h2",{className:"message",children:"Looking for your movie..."}),this.state.error&&Object(n.jsx)(l.a,{to:"/error"}),!this.state.isLoading&&!this.state.error&&Object(n.jsxs)("article",{className:"single-film",children:[Object(n.jsxs)("section",{className:"film-details",children:[Object(n.jsxs)("div",{className:"film-title-container",children:[Object(n.jsx)("h2",{className:"title",children:this.state.currentMovie.title}),this.state.currentMovie.average_rating&&this.formatRating()]}),Object(n.jsx)("h3",{children:this.state.currentMovie.tagline}),Object(n.jsxs)("div",{className:"info-container",children:[Object(n.jsx)("h4",{children:"".concat(this.state.currentMovie.runtime," min")}),this.state.currentMovie.genres&&this.getGenres(),this.formatDate()]})]}),Object(n.jsx)("img",{src:this.state.currentMovie.poster_path,alt:this.state.currentMovie.title}),Object(n.jsxs)("section",{className:"overview",children:[Object(n.jsxs)("article",{className:"summary","aria-label":"summary",children:[Object(n.jsx)("h3",{className:"summary-headline",children:"Summary:"}),Object(n.jsx)("p",{children:this.state.currentMovie.overview})]}),Object(n.jsxs)("div",{className:"money-container",children:[this.state.currentMovie.budget>0&&this.formatMoney("budget"),this.state.currentMovie.revenue>0&&this.formatMoney("revenue")]})]})]})]})}}]),r}(i.Component)),x=(r(37),function(e){Object(h.a)(r,e);var t=Object(u.a)(r);function r(){var e;return Object(c.a)(this,r),(e=t.call(this)).isResponseOk=function(t){if(t.ok)return t.json();e.setState({error:!0,isLoading:!1})},e.state={movies:[],isLoading:!0,error:!1},e}return Object(o.a)(r,[{key:"componentDidMount",value:function(){var e=this;O.getAllMovies().then((function(t){return e.isResponseOk(t)})).then((function(t){return e.setState({movies:t.movies,isLoading:!1})})).catch((function(){return e.setState({isLoading:!1,error:!0})}))}},{key:"render",value:function(){var e=this;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(m,{}),Object(n.jsxs)("div",{className:"App",children:[this.state.isLoading&&Object(n.jsx)("h2",{className:"message",children:"Please wait..."}),Object(n.jsx)(l.b,{exact:!0,path:"/",render:function(){return e.state.error?Object(n.jsx)(l.a,{to:"/error"}):Object(n.jsx)(f,{movies:e.state.movies})}}),Object(n.jsx)(l.b,{exact:!0,path:"/film/:id",render:function(e){var t=e.match.params.id;return Object(n.jsx)(g,{id:t})}}),Object(n.jsx)(l.b,{exact:!0,path:"/error",render:function(){return Object(n.jsx)(b,{})}})]})]})}}]),r}(i.Component));a.a.render(Object(n.jsx)(j.a,{children:Object(n.jsx)(x,{})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.e61554e4.chunk.js.map